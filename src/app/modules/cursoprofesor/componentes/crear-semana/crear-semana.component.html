<h1>Crear Semana</h1>

<!-- Formulario para la semana -->
<form [formGroup]="semanaForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill">
        <mat-label>idcurso</mat-label>
        <input matInput formControlName="idcurso">
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Número de Semana</mat-label>
        <input matInput formControlName="numerosemana">
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Tema</mat-label>
        <input matInput formControlName="tema">
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Descripción</mat-label>
        <textarea matInput formControlName="descripcion"></textarea>
    </mat-form-field>
    <div class="action-buttons">
        <button  mat-button type="button" (click)="guardarTodo()">Guardar</button>
        <button mat-button type="button" (click)="onCancel()">Cancelar</button>
    </div>
</form>

<!-- Tareas -->
<div class="task-header">
<h1>Tareas</h1>
<button mat-button (click)="agregarTarea()">Agregar Tarea</button>
</div>
<div class="task-container">
    <div  *ngFor="let tareaForm of tareas; let i = index">
        <div class="form-title">Tarea {{ i + 1 }}</div>
        <form [formGroup]="tareaForm">
            <mat-form-field appearance="fill">
                <mat-label>Semana id</mat-label>
                <input matInput formControlName="semanaid">
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>Descripción de la tarea</mat-label>
                <input matInput formControlName="descripcion">
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>Nota</mat-label>
                <input matInput formControlName="nota">

            </mat-form-field>
            <div class="task-actions">
                
                <button mat-button type="button" (click)="cancelarTarea(i)">Cancelar</button>
            </div>
            <div class="task-actions">
            </div>
        </form>
    </div>
    
</div>

<!-- Materiales -->
<div class="task-header2">
<h1>Materiales</h1>
<button mat-button (click)="agregarMaterial()">Agregar Material</button>
</div>
<div class="material-container">
    <div *ngFor="let materialForm of materiales; let i = index">
        <div class="form-title">Material {{ i + 1 }}</div>
        <form [formGroup]="materialForm">
            <mat-form-field appearance="fill">
                <mat-label>Semana id</mat-label>
                <input matInput formControlName="semanaid">
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>Tipo</mat-label>
                <input matInput formControlName="tipo">
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>Descripción del material</mat-label>
                <input matInput formControlName="descripcion">
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>URL</mat-label>
                <input matInput formControlName="url">
            </mat-form-field>
            <div class="task-actions">
                <button mat-button type="button" (click)="cancelarMaterial(i)">Cancelar</button>
            </div>
        </form>
    </div>
    
</div>
<!-- Botón final para guardar todo -->
